# Результаты бенчмарка эмбеддингов

Дата: 2026-01-02

## Тестовые данные
- Количество новостей: 15
- Размер текста: title + summary

## Результаты

### Mock Backend
- **Скорость**: 69,212.9 текстов/сек
- **Время инициализации**: 0.00s
- **Размерность**: 384
- **Время на текст**: 0.01ms
- **Качество**: Низкое (сходство с реальными эмбеддингами: 0.016)

**Вывод**: Mock backend очень быстрый, но генерирует некачественные эмбеддинги, непригодные для реального использования.

### Local Backend (sentence-transformers)
- **Скорость**: 13.0 текстов/сек
- **Время инициализации**: 4.72s (первая загрузка модели)
- **Размерность**: 384
- **Время на текст**: 76.63ms
- **Качество**: Высокое (сходство между похожими текстами: 0.755)

**Вывод**: Local backend достаточно быстрый для production использования, генерирует качественные эмбеддинги.

### Gemini Backend
- Не протестирован (требуется GEMINI_API_KEY)

## Сравнение Mock vs Local

- **Среднее сходство**: 0.016 (очень низкое)
- **Стандартное отклонение**: 0.040
- **Минимальное сходство**: -0.049
- **Максимальное сходство**: 0.125

**Вывод**: Mock эмбеддинги кардинально отличаются от реальных и не могут использоваться для семантического поиска.

## Рекомендации

### Для Production
✅ **Использовать Local Backend (sentence-transformers)**
- Достаточная скорость (13 текстов/сек)
- Высокое качество эмбеддингов
- Бесплатно
- Работает офлайн
- Приватность данных

### Для Development/Testing
⚠️ **Mock Backend можно использовать только для:**
- Тестирования UI
- Прототипирования
- Разработки без зависимостей

❌ **НЕ использовать Mock для:**
- Реальных вычислений similarity
- Кластеризации новостей
- Production

## Производительность

### Локальный бэкенд
- **15 новостей**: 1.15 секунды
- **100 новостей**: ~7.7 секунды (оценка)
- **1000 новостей**: ~77 секунд (оценка)

Для больших объемов рекомендуется:
- Использовать батчи (уже реализовано)
- Рассмотреть GPU ускорение (если доступно)
- Кэшировать результаты

## Заключение

**Рекомендуемый подход**: Local Backend (sentence-transformers)
- Баланс между скоростью и качеством
- Подходит для production
- Не требует внешних API

